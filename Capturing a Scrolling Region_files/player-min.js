var TSC=TSC||{};TSC.textSanitizer=(function(){return{htmlEncode:function(b,a){if(b){if(a){return b.replace(/&/g,"&amp;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;")}else{return b.replace(/&/g,"&amp;").replace(/("|&amp;quot;)/g,"&quot;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;")}}else{return b}}}}());var TSC=TSC||{};TSC.videoAnalytics=(function(){var f;var h;var j=0;var a=[{duration:300000,segmentLength:2000},{duration:1800000,segmentLength:5000}];var i=30000;var g;var b;var c=0;var e;var d=false;return{setVideoLoadStartTime:function(k){f=k},setVideoLoadEndTime:function(k){h=k},getVideoLoadTime:function(){var k=0;if(f&&h){k=h-f}return k},getNumberSegments:function(){return g},getNumberWatchedSegments:function(){return c},isPercentWatchedInitialized:function(){return j>0},clearPercentWatched:function(){j=0},initPercentWatched:function(l){if(l<=0){return}j=l;for(var k=0;k<a.length;k++){if(l<=a[k].duration){i=a[k].segmentLength;break}}b=[];g=Math.ceil(l/i);for(k=0;k<g;k++){b.push(false)}c=0},markTimeWatched:function(k){if(k>j){return}e=Math.floor(k/i);if(e<0||e>=g){return}if(!b[e]){c++;b[e]=true}},getPercentageWatched:function(){if(g&&g>0){return c/g}else{return 0}},getPercentageWatchedForVideoSegment:function(q,p){var r=0;if(j>0&&(q<=p)){var o=Math.floor(q/i);var m=Math.floor(p/i);var l=0;var k=m-o+1;for(var n=o;n<=m;n++){if(b[n]){l++}}r=l/k}return r},setEnabled:function(k){d=k},isEnabled:function(){return d}}}());var TSC=TSC||{};TSC.mediaType=(function(){return{WEBM:"webm",H264:"h264",OGG:"ogg",UNKNOWN:"unknown",NOT_AVAILABLE:"not available",MULTIPLE_TYPES:"multiple types"}}());var TSC=TSC||{};TSC.rtfParser=(function(){var g="\\";var a="0";var l=" ";var o=" ";function c(q){var p="par ";return q.toLowerCase()==p}function d(v,s){if(s===undefined){s=0}var q="a";var w="z";var u=q.charCodeAt();var t=w.charCodeAt();var p=-1;if(v){p=v.indexOf(g,s);while(p!=-1){if(p+1<v.length){var r=v.toLowerCase().charCodeAt(p+1);if(u<=r&&r<=t){break}}p=v.indexOf(g,p+1)}}return p}function j(s,q){if(q===undefined){q=0}var p=d(s,q);while(p!=-1){var r=i(s,p);if(r&&!c(r)){break}p=d(s,p+1)}return p}function i(p,r){var q;if(r!=-1){var t=p.indexOf(l,r+1);if(t!=-1){var s=(t+1)-(r+1);q=p.substr(r+1,s)}else{q=p.substr(r+1)}}return q}function n(t,s){var q="";var u=[];var r=s.pop();while(r&&r!=t&&s.length){q+=(g+r);u.push(e(r));if(s.length){r=s.pop()}}q+=(g+t);while(u.length){var p=u.pop();if(p){q+=(g+p);s.push(e(p))}}return q}function b(p){return p.indexOf(a)!=-1}function e(q){var p;if(q!=""){if(b(q)){p=q.substr(0,q.indexOf(a))}else{if(q.indexOf(o)!=-1){p=q.substr(0,q.indexOf(o))}p+=a}p+=o}return p}function m(s,q){var r=s;if(q!=-1&&r&&q<r.length){var p=r.indexOf(l,q);if(p!=-1){r=r.substr(0,q)+r.substr(p+1)}else{r=r.substr(0,q)}}return r}function k(r){var p=" ";var q=r;while(q.length>1&&q.charAt(0)==p){q=q.substr(1)}while(q.length>1&&q.charAt(q.length-1)==p){q=q.substr(0,q.length-1)}if(q==p){q=""}return q}function f(w){var v=w;if(v){var r=[];var q=j(v);var u=0;while(q!==-1){var t=i(v,q);if(t&&b(t)){var p=n(t,r);var s=v.indexOf(l,q);if(s!==-1){v=v.substr(0,q)+p+v.substr(s+1)}else{v=v.substr(0,q)+p}q+=p.length}else{if(t&&!c(t)){r.push(e(t))}q=Number(q)+1}q=d(v,q)}}return v}function h(r){var q=r;if(q){var p=1;while(p>0){p=0;var v=j(q);while(v!=-1){var x=j(q,v+1);var u=i(q,v);if(u){if(x!=-1){var t=e(u);var s=i(q,x);if(s&&s==t){var y=v+1+u.length;var w=q.substr(y,x-y);if(!k(w).length){q=m(q,x);q=m(q,v);x-=(u.length+1);p++}}}}v=x}}}return q}return{NestAndCleanUpTags:function(q){var p=q;if(p){p=f(p);p=h(p)}return p}}}());var TSC=TSC||{};TSC.textFormatter=(function(){return{rtfToText:function(b){var a=false;if(b.indexOf("{\\rtf1")!=-1){b=b.split("{\\rtf1 ").join("");a=true}b=b.split("\\i ").join("");b=b.split("\\i0 ").join("");b=b.split("\\b ").join("");b=b.split("\\b0 ").join("");b=b.split("\\ul ").join("");b=b.split("\\ul0 ").join("");b=b.split("\\par ").join("");b=b.split("\\{").join("{");b=b.split("\\}").join("}");b=b.split("\\\\").join("\\");if(a&&(b.charAt(b.length-1)=="}")){b=b.substr(0,b.length-1)}return b},rtfToHTML:function(b){b=TSC.rtfParser.NestAndCleanUpTags(b);b=b.split("<").join("&lt;");b=b.split(">").join("&gt;");var a=false;if(b.indexOf("{\\rtf1")!=-1){b=b.split("{\\rtf1 ").join("");a=true}b=b.split("\\i0 ").join("</i>");b=b.split("\\b0 ").join("</b>");b=b.split("\\ul0 ").join("</u>");b=b.split("\\i ").join("<i>");b=b.split("\\b ").join("<b>");b=b.split("\\ul ").join("<u>");b=b.split("\\par ").join("<br/>");b=b.split("\\{").join("{");b=b.split("\\}").join("}");b=b.split("\\\\").join("\\");if(a&&(b.charAt(b.length-1)=="}")){b=b.substr(0,b.length-1)}b=b.split("&lt;br&gt;").join("<br/>");b=b.split("&lt;BR&gt;").join("<br/>");return b}}}());var TSC=TSC||{};TSC.deviceInfo=(function(){var f=false;var m=false;var a=false;var e=false;var n=false;var g=false;var c=false;var h=false;var i=false;var k=false;var l=false;var d=false;function j(){switch(window.location.protocol){case"http:":case"https:":return false;break;case"file:":return true;break}}function b(){n=navigator.userAgent.match(/iPad/i)!==null;g=navigator.userAgent.match(/iPhone/i)!==null;c=navigator.userAgent.match(/iPod/i)!==null;h=navigator.userAgent.toLowerCase().indexOf("android")!==-1;e=navigator.userAgent.toLowerCase().indexOf("chrome")!==-1;m=navigator.appName=="Microsoft Internet Explorer";a=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;i=navigator.userAgent.match(/Nuevo/i)!==null;k=navigator.userAgent.match(/Safari/i)!==null;d=((screen.availWidth<640)&&(screen.availHeight<480)||(screen.availWidth<480)&&(screen.availHeight<640));l=(g||c||n)&&(window.devicePixelRatio>=2);if((g||c)&&i&&l){n=true;g=c=false}}return{isSmallScreen:function(){return d},isRetinaDisplay:function(){return l},isNuevoApp:function(){return i},isIPad:function(){return n},isIPhoneOrIPod:function(){return(g||c)},isIE:function(){return m},isFirefox:function(){return a},isChrome:function(){return e},isAndroid:function(){return h},isTouchInterface:function(){return Modernizr.touch},supportsFullScreenKeyboardInput:function(){var o=false;if(e&&Element.ALLOW_KEYBOARD_INPUT!==undefined){o=true}return o},mediaLocation:function(){var q=(document.location.href);var o=q.lastIndexOf("/");var p=q.substring(0,o+1);if(TSC.deviceInfo.isIE()==true){p=encodeURI(p)}p=p.split("%25").join("%");return p},isLocal:function(){return j()},lookAtDevice:function(){b()}}}());var TSC=TSC||{};TSC.playerConfiguration=(function(){var o="10.2.0";var q=[];var B;var l;var r;var d="<b>Your browser cannot play this video.</b>";var y="'playerProductInstall.swf";var C="tsc_player.swf";var b="100%";var k="100%";var t="stop";var p=true;var e=true;var f=false;var m=-1;var x=false;var g=false;var a="left";var A="#000";var i=false;var j=false;var u=true;var D=false;var w=true;var E=false;var z=false;var n;var h=true;var c=".";function s(){var G=false;var F=(document.location.href);if(F.indexOf("http")==0){G=true}return G}function v(G){var F=G.replace("&#8217;","'");return F}return{getUnicodeSafeString:function(F){if(F===undefined){return F}if(TSC.playerConfiguration.getProcessUnicodeNames()){if(TSC.deviceInfo.isIE()==true){if(s()){return encodeURI(F)}else{return decodeURIComponent(F)}}else{return encodeURIComponent(F)}}else{return F}},getMediaSrc:function(){return q.length>0?q[0]:""},setMediaSrc:function(F){q.push(v(F))},addMediaSrc:function(F){q.push(v(F))},getMediaSources:function(){return q},getXMPSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(B)},setXMPSrc:function(F){B=v(F)},setSwfBase:function(F){c=v(F)},getSwfBase:function(){return c},getConfigurationSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(l)},setConfigurationSrc:function(F){l=F},getPosterImageSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(r)},setPosterImageSrc:function(F){r=F},getUnableToDisplayContentString:function(){return d},setUnableToDisplayContentString:function(F){d=F},getFlashUpdateBootstrapSwf:function(){return y},setFlashUpdateBootstrapSwf:function(F){y=F},getFlashPlayerSwf:function(){return C},setFlashPlayerSwf:function(F){C=v(F)},getPlayerWidth:function(){return b},setPlayerWidth:function(F){b=F},getPlayerHeight:function(){return k},setPlayerHeight:function(F){k=F},getEndActionType:function(){return t},setEndActionType:function(F){t=F},getEndActionParam:function(){return p},setEndActionParam:function(F){p=F},getIsSearchable:function(){return e},setIsSearchable:function(F){e=F},getAutoPlayMedia:function(){return f},setAutoPlayMedia:function(F){f=F},getAllowRewind:function(){return m},setAllowRewind:function(F){m=F},getCaptionsEnabled:function(){return x},setCaptionsEnabled:function(F){x=F},getSidebarEnabled:function(){return g},setSidebarEnabled:function(F){g=F},getSidebarLocation:function(){return a},setSidebarLocation:function(F){a=F},getBackgroundColor:function(){return A},setBackgroundColor:function(F){A=F},getMinFlashPlayerVersion:function(){return o},setDebugHotspot:function(F){i=F},getDebugHotspot:function(){return i},setAutoHideControls:function(F){u=F},getAutoHideControls:function(){return u},setProcessUnicodeNames:function(F){j=F},getProcessUnicodeNames:function(){return j},setReportScormComplete:function(F){D=F},getReportScormComplete:function(){return D},setEnforceLinearAssessment:function(F){w=F},getEnforceLinearAssessment:function(){return w},setDisableFullframeMode:function(F){E=F},getDisableFullframeMode:function(){return E},setGoogleAnalyticsID:function(F){n=F},getGoogleAnalyticsID:function(){return n},setGAEventTracking:function(F){h=F},getGAEventTracking:function(){return h},setAdvancedSeeking:function(F){z=F},getAdvancedSeeking:function(){return z},getFrameElement:function(){try{if(window!=window.top){return $(window.frameElement)}else{return""}}catch(F){TSC.playerConfiguration.setDisableFullframeMode(true)}}}}());var TSC=TSC||{};TSC.mediaList=(function(){var b=".m3u";var i="Videos in a Playlist cannot be viewed from a local drive. The videos will play correctly from a Playlist hosted on a Website or Server.";var n;var j=[];var k=0;var a;var m;var d=false;function e(){k=0;if(n[0].toLowerCase().indexOf(b)!=-1){d=true;f(TSC.playerConfiguration.getUnicodeSafeString(n[0]))}else{d=false;j.push(n);a.call()}}function f(o){$.ajax({type:"GET",url:o,isLocal:true,dataType:"text",success:h,error:g})}function h(q){j=q.split(/\r?\n/g);var p=j.length-1;for(var o=p;o>=0;o--){if(j[o]===""){j.splice(o,1)}else{j[o]=TSC.playerConfiguration.getUnicodeSafeString(j[o])}}if(a){a.call()}}function g(o){if(m){m.call()}}function c(q){var p="";var o=l(q);switch(o){case TSC.mediaType.WEBM:p="video/webm";break;case TSC.mediaType.H264:p="video/mp4";break;case TSC.mediaType.OGG:p="video/ogg";default:break}return p}function l(q){var o=TSC.mediaType.UNKNOWN;var r=q.split(".");if(r.length>0){var p=r.pop().toLowerCase();switch(p){case"webm":o=TSC.mediaType.WEBM;break;case"mp4":case"m4v":case"mov":o=TSC.mediaType.H264;break;case"ogv":o=TSC.mediaType.OGG;break;default:break}}return o}return{init:function(o){n=o;e()},currentVideoSrc:function(){if(j.length>0){return j[k]}else{return undefined}},currentVideoIndex:function(){return k},setCurrentVideo:function(o){if(o==="next"){if(k<j.length-1){k++}}else{if(o==="previous"){if(k>0){k--}}else{if(Number(o)>=0&&Number(o)<j.length){k=Number(o)}}}},getMediaList:function(){return j},getVideoIndexBySrc:function(p){var r=k;for(var q=0;q<j.length;q++){if(d){if(j[q]===p){r=q;break}}else{for(var o=0;o<j[q].length;o++){if(j[q][o]===p){r=q;break}}}}return r},getMediaType:function(){var o=TSC.mediaType.NOT_AVAILABLE;if(j.length>0){o=TSC.mediaType.UNKNOWN;if(d){o=l(j[k])}else{var p=j[k].length;if(p===1){o=l(j[k][0])}else{o=TSC.mediaType.MULTIPLE_TYPES}}}return o},getMediaMimeType:function(o){return c(o)},isMediaTypeAvailable:function(p){var o=false;if(j.length>0){if(d){o=(p===l(j[k]))}else{var r=j[k].length;for(var q=0;q<r;q++){o=(p===l(j[k][q]));if(o){break}}}}return o},isPlaylist:function(){return d},onFirstVideo:function(){return(k===0)},onLastVideo:function(){return((k+1)===j.length)},getErrorMessage:function(){return i},addEventListener:function(o,p){if(o==="READY"){a=p}else{if(o==="ERROR"){m=p}}},removeEventListener:function(o,p){if(o==="READY"){a=undefined}else{if(o==="ERROR"){m=undefined}}}}}());var TSC=TSC||{};TSC.ioOverlayView=(function(){var d="#tsc_io_container";var a="#tsc_io_overlay";var c='<div id="tsc_io_container"><div id="tsc_io_message"><span>{{ioMessage}}</span><img src="{{loaderImg}}" /></div></div><div id="tsc_io_overlay"></div>';var b="data:image/gif;base64,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 Cwg1RAAAOwAAAAAAAAAAAA==";var e=false;return{getViewMarkup:function(h){var g=Handlebars.compile(c);var f={ioMessage:h,loaderImg:b};return g(f)},setViewMessage:function(f){$(d+" span").html(f)},hideLoadingGraphic:function(){$(d+" img").hide()},showLoadingGraphic:function(){$(d+" img").show()},viewOpen:function(){return e},showView:function(){$(d).css("opacity",0);$(d).animate({opacity:1},300);e=true},removeView:function(f){e=false;$(a).animate({opacity:0},200,function(){$(a).remove()});$(d).animate({opacity:0},200,function(){if(f!==undefined){f.call()}$(d).remove()})}}}());var TSC=TSC||{};TSC.playerView=function(){var bl;var b3;var b;var E=false;var aS="#tscplayer";var aP,t,g,bd,A,bn,bj,aq,O,bz,aj,i,M,o,a0,bW,aU,R,ax,bT,k,C,bX,ae,a3,L,v,bO;var p=300,bI=100,ai,ag,r=-1,al=-1,aF=false,bc=false,ab=false,bf=false,bR=5,bp=false,c=false,aD=0,bK=0,az=0,ay=0,b1=0,bo=1,bU=false,aX=false,aM=-1,bY=0,bt=false,bs=false,bu=250,aO,N="",H=1,P=false,aH=false,ah=-1,x=5000,bx=false,bg="click",bD=false,aJ=false,av=1,aV=-1,bV=0,Q=0,a9=false,a4=-1,bC=false,bM=false,be=false,W=true,aA=0,b0=10;var br=32;var h=TSC.ioOverlayView;var an=TSC.playerConfiguration.getFrameElement();var bA='<a id="videoClickToPlayLink"><table id="videoClickToPlay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet play_button_overlay_normal" /></td></tr></table></a><a id="videoClickToReplayLink"><table id="videoClickToReplay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet replay_button_overlay_normal" /></td></tr></table></a><div id="videoWrapper" class="videoDimensions"><canvas id="hotspotContainerDebug" width="1" height="1" ></canvas><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUZFRTQ3RTgzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUZFRTQ3RTkzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRkVFNDdFNjNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRkVFNDdFNzNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuQAJiQAAAAXSURBVHjaYvz//z8DOmBiwAIoFAQIMAA2UAMHLJ+dVwAAAABJRU5ErkJggg%3D%3D" id="hotspotContainer" usemap="#hotspotMap" width="1" height="1" /><div id="videoSidebar"><div id="videoSidebarHead"><div id="searchArea"><input id="searchBox" value="Search..." /><span id="clearSearchButton" ></span></div></div><div id="videoSidebarContentWrapper"> <div id="videoSidebarContent"> <ol id="tableOfContentsList"> </ol> </div> </div> </div> <div id="videoDiv"></div><div id="volume_slider_container" class="spritesheet volumebar_backdrop"><div id="volume_slider_vertical"></div></div><div id="controls" class="spritesheet sprite_repeat control_backdrop"> <div id="rewind" class="spritesheet rewind_button_normal bitmap_control"><span></span> </div><div id="play" class="spritesheet play_button_normal bitmap_control"><span></span> </div><div id="previous" class="spritesheet previous_button_disabled bitmap_control"><span></span> </div><div id="next" class="spritesheet next_button_normal bitmap_control"><span></span> </div><div id="progress" class="bitmap_control"><div id="progress_box"><span id="progress_scrubbar_track_left" class="spritesheet scrubbar_track_left"></span><span id="progress_scrubbar_track" class="spritesheet sprite_repeat scrubbar_track"><span id="load_progress" class="spritesheet sprite_repeat scrubbar_loaded_track"><span id="play_progress" class="spritesheet sprite_repeat scrubbar_played_track"></span></span></span> <span id="progress_scrubbar_track_right" class="spritesheet scrubbar_track_right"></span><canvas id="markers"></canvas><span id="scrubbar_scrubber" class="spritesheet scrubbar_scrubber_normal"></span> </div><div class="spritesheet seperator bitmap_control"></div><div id="play_time"> <span id="current_time_display">00:00</span> / <span id="duration_display">00:00</span> </div> </div><div id="volume" class="spritesheet volume_button_normal bitmap_control"></div><div id="closedCaptionButton" class="spritesheet closed_caption_button_normal bitmap_control"></div><div id="tocButton" class="spritesheet toc_button_normal bitmap_control"></div><div id="fullscreen_enter_button" class="bitmap_control spritesheet fullscreen_enter_button_normal"></div></div><div id="currentCaption" class="hide"></div><div id="alertDialog"></div></div><div id="captions"></div><div id="screenText"></div><div id="speechText"></div><map name="hotspotMap" id="hotspotMap"></map>';function aZ(b5){if(aP&&ab&&b5.keyCode===br){b5.originalEvent.preventDefault();if(aP[0].paused){aP[0].play()}else{aP[0].pause()}}}function z(){$(document).bind("keydown",aZ)}function q(){$(document).unbind("keydown",aZ)}function f(b5){b5=b5.replace(/\)/gi,"\\)");b5=b5.replace(/\(/gi,"\\(");$("#videoClickToPlay, #videoClickToReplay").css("background-image","url("+b5+")")}function a1(){$("#videoClickToPlay, #videoClickToReplay").css("background-image","none")}function ac(b5){if(H!=-1){$("#tableOfContentsList li:nth-child("+H+") ").removeClass("selectedTocItem")}H=b5;$("#tableOfContentsList li:nth-child("+H+") ").addClass("selectedTocItem")}function d(b5){for(var b6=0;b6<b5.length;b6++){var b7;if(b5[b6].start!==undefined){b7=b5[b6].start}else{b7=b5[b6].time}a2(b5[b6].text,b7,b5[b6].file,b5[b6].imageRef,b5[b6].imageRect)}}function bH(b5){var b8=[];var b7;for(b7=0;b7<b5.length;b7++){var ca=b5[b7].text;if(ca.toLowerCase().indexOf(C.val().toLowerCase())!=-1){b8.push(b5[b7])}}var b9=b8.length;var b6;for(b6=0;b6<b9;b6++){bm(b8[b6])}}function bm(ci){var ch=ci.items.length;var ce=(C.val().toLowerCase()).split(" ");for(var cc=0;cc<ch;cc++){var ca="";var b7=ci.items[cc];var b9=ce[0];if(b7.toLowerCase().indexOf(b9)<0){continue}for(var cb=0;cb<ce.length;cb++){if(cc+cb>=ch){ca+=""}else{if(cc==0){ca+=ci.items[cc+cb]}else{ca+=" "+ci.items[cc+cb]}}}if(ca.toLowerCase().indexOf(C.val().toLowerCase())!=-1){var b8;if(ce.length<4){b8=Math.floor(5-(ce.length)/2)}else{b8=2}var b6;var cf="";var b5="";for(var cd=1;cd<=b8;cd++){if((cc-cd)>=0){cf=ci.items[cc-cd]+" "}if(cc+cb+cd<ch){b5+=" "+ci.items[cc+cb+(cd-1)]}}ca=bS(ca,C.val());b6="..."+cf+ca+b5+"...";var cj=ci.file;var cg="";if(cj!==undefined){cg="data-file='"+cj+"'"}aN("#searchList",b6,ci.start,cj,undefined,undefined,C.val())}}}function a2(b9,b5,b6,b7,b8){if(b9.toLowerCase().indexOf(C.val().toLowerCase())!=-1){aN("#searchList",b9,b5,b6,b7,b8,C.val())}}function u(){var b5=$("#hotspotContainerDebug");var b6=b5[0].getContext("2d");b6.clearRect(0,0,$("#hotspotContainerDebug").width(),$("#hotspotContainerDebug").height());b6.fillStyle="rgba(255, 0, 0, 0.5)";var b7;var b8;$.each(TSC.xmp.getHotspotItemArray(),function(){b8=$(this)[0];if(b8.isActive){b7=b8.scaledPoints.length;b6.beginPath();for(var b9=0;b9<b7;b9+=2){if(b9===0){b6.moveTo(b8.scaledPoints[b9],b8.scaledPoints[b9+1])}else{b6.lineTo(b8.scaledPoints[b9],b8.scaledPoints[b9+1])}}b6.lineTo(b8.scaledPoints[0],b8.scaledPoints[1]);b6.closePath();b6.fill()}})}function aK(b7,b6,cb,b5){var ca="";var b9=b6.points.length;for(var b8=0;b8<b9;b8++){b6.scaledPoints[b8]=Math.round(b6.points[b8]*cb);if(b6.scaledPoints[b8]<0){b6.scaledPoints[b8]=0}if(b8===0){ca+=b6.scaledPoints[b8]}else{ca+=","+b6.scaledPoints[b8]}}if(TSC.playerConfiguration.getDebugHotspot()){u()}if(b5){$(b5).attr("coords",ca)}else{$("#hotspotMap").append('<area shape="poly" coords="'+ca+'" hotspot_index="'+b7+'" href="#" alt="Hotspot" />');$("#hotspotMap area").bind("click",G)}}function l(cg,ca){if(r<0){return}var b9=(Number(cg)-(Number(r)*av))/2;var cc=(Number(ca)-(Number(al)*av))/2;if(b9<0){b9=0}if(cc<0){cc=0}var b6=(r*av);var cf=(al*av);$("#hotspotContainer").attr("width",b6);$("#hotspotContainer").attr("height",cf);$("#hotspotContainer").css("left",b9);$("#hotspotContainer").css("top",cc);if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").attr("width",b6);$("#hotspotContainerDebug").attr("height",cf);$("#hotspotContainerDebug").css("left",b9);$("#hotspotContainerDebug").css("top",cc)}var b5=$("#hotspotMap area");var b7=b5.length;var b8;var cd;if(b7>0){for(var cb=0;cb<b7;cb++){b8=b5[cb];cd=$(b8).attr("hotspot_index");if(cd){var ce=TSC.xmp.getHotspotItemArray();var ch=ce[Number(cd)];if(ch){aK(Number(cd),ch,av,b8)}}}}}function ad(){$("#searchList").remove();bj.show();bZ()}function bJ(){if(aP===undefined){return}var b6=aP[0].offsetWidth;var b5=b6-20;if(b5!==R.width()){R.css("width",b5+"px");R.css("left",10+"px")}R.css("height",$("#currentCaption span").innerHeight())}function ak(){var b6=$("#markers");var b5=b6[0].getContext("2d");TSC.quizController.drawMarkers((aP[0].duration*1000),b5,bV,Q)}function U(){aD=$("#videoSidebarHead")[0].offsetHeight+bK;var b5=(ai-i.height()-aD);$("#videoSidebarContent").height(b5)}function bL(){$("#tscVideoContent").css("width",TSC.playerConfiguration.getPlayerWidth());$("#tscVideoContent").css("height",TSC.playerConfiguration.getPlayerHeight());ai=$("#tscVideoContent").innerHeight();ag=$("#tscVideoContent").innerWidth();i.width(ag);if(TSC.playerConfiguration.getSidebarLocation()==="right"){bW.css("left",ag-bW.outerWidth());bW.css("top",$("#tscVideoContent").offset().top)}else{bW.css("left",$("#tscVideoContent").offset().left);bW.css("top",$("#tscVideoContent").offset().top)}var b5;b5=o.outerWidth(true)+bR;var b8=$("#play_time").outerWidth(true)+$(".seperator").outerWidth(true)+bR;if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){$("#volume").remove();if(bt){b5=b5+O.outerWidth(true)}if(bp){b5=b5+aq.outerWidth(true)}b5=b5+bR}else{if(bt){b5=b5+aU.outerWidth(true)+O.outerWidth(true)+bR;if(c||bp){b5=b5+aq.outerWidth(true)}}else{b5=b5+aU.outerWidth(true)+bR;if(c||bp){b5=b5+aq.outerWidth(true)}}}if(TSC.xmp.hasCaptionItems()){b5=b5+ax.outerWidth(true)}if(TSC.playerConfiguration.getAllowRewind()!=-1){b5=b5+t.outerWidth(true)}if(bd.is(":visible")){b5=b5+bd.outerWidth(true)+A.outerWidth(true)}if(bp){$("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal");$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal")}bz.width(ag-b5);aj.width(ag-b5-b8);$(".videoDimensions").width(ag);$(".videoDimensions").height(ai);if(bt){U()}var b7=aP&&aP.length>0;if(b7){aP.attr("height",ai+"px");aP.attr("width",ag+"px")}by();if(TSC.xmp.hasHotspotItems()){l(ag,ai)}if(TSC.xmp.hasCaptionItems()){D();bJ()}if(ae.length>0){a3.css("left",(aU.outerWidth(true)+(bR*2))+"px")}else{var b6=aU.offset().left+(aU.width()/2-a3.width()/2);if((b6+a3.width())>$("#tscVideoContent").offset().left+$("#tscVideoContent").width()){b6=($("#tscVideoContent").offset().left+$("#tscVideoContent").width())-(a3.width()+5)}a3.css("left",b6+"px")}if(aP&&aP[0].duration){F();if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){bV=ag-b5-b8;Q=i.height();$("#markers").attr("width",bV+"px");$("#markers").attr("height",Q+"px");ak();if(TSC.quizController.viewOpen()){TSC.quizController.pointViewAt(bq(aP[0].currentTime))}}}}function by(){if(r>0&&ag>0){var b6=ag/r;var b5=ai/al;var b7=Math.min(b6,b5);av=b7}}function at(){if(bt&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()){$("#searchArea").show();$("#fsSearchAlert").remove();U()}}function B(){a9=true;if(!TSC.xmp.hasQuiz()||(TSC.xmp.hasQuiz()&&(!TSC.quizController.quizEnabled()||TSC.quizController.getQuizReady()))){i.show();T()}else{aP[0].pause();bP(TSC.quizController.getLastStatusMessage())}if(TSC.videoAnalytics.isEnabled()&&!TSC.videoAnalytics.isPercentWatchedInitialized()){TSC.videoAnalytics.initPercentWatched(aP[0].duration*1000)}if((aP[0].webkitSupportsFullscreen&&!TSC.deviceInfo.isIPad()&&!TSC.deviceInfo.isAndroid())){document.addEventListener("webkitfullscreenchange",function(){aF=!aF;if(aF){$("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal");$("#fullscreen_enter_button").addClass("fullscreen_leave_button_normal")}else{at();$("#fullscreen_enter_button").removeClass("fullscreen_leave_button_normal");$("#fullscreen_enter_button").addClass("fullscreen_enter_button_normal");$("body").css("margin-left","1px");bf=true;bL();$("body").css("margin-left","0");bf=true;bL()}});c=true}else{if(window!=window.top&&!TSC.playerConfiguration.getDisableFullframeMode()){aq.show();bp=true}else{$("#fullscreen_enter_button").remove()}}bf=true;bL();aP[0].removeEventListener("loadedmetadata",B,false)}function m(){var b5;if(R.hasClass("captionVAlignTop")){b5=20;R.css("bottom","");R.css("top",b5+"px")}else{b5=i.height()+10;R.css("top","");R.css("bottom",b5+"px")}}function bq(b6){var b7=aj.position().left;if(aP&&aP[0].duration&&aP[0].duration>0){if(b6>=0&&b6<=aP[0].duration){var b5=b6/aP[0].duration;b7+=b5*aj[0].offsetWidth}}return b7}function X(){if(!ab||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()&&!TSC.quizController.getQuizReady())){return}var b8=false;if(r===-1||r===0){r=aP[0].videoWidth;al=aP[0].videoHeight;by();if(TSC.xmp.hasCaptionItems()){D()}if(TSC.xmp.hasHotspotItems()){l(ag,ai)}b8=true}be=Number(aP[0].currentTime.toFixed(2))>=Number(aP[0].duration.toFixed(2));az=((az+(aP[0].currentTime-ay))/2)+0.33;if(b8){ay=0}else{ay=aP[0].currentTime>aP[0].duration?aP[0].duration:aP[0].currentTime}b1=ay*1000;if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.markTimeWatched(b1);if(TSC.playerConfiguration.getGoogleAnalyticsID()){var b7=Math.round(TSC.videoAnalytics.getPercentageWatched()*100);if(b7>=(aA+b0)){aA+=b0;if(aA<b7){aA=(b0*Math.floor(b7/b0))+b0}if(aA>100){aA=100}_gaq.push(["_trackEvent","HTML5-Video","Video_Percent_Viewed","Viewed: "+aA+" Percent"])}}}var cb="";if(!bx&&TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){var b5=TSC.quizController.findQuestionSet(b1);if(b5.id>=0){if(aV!==b5.id){if(!TSC.deviceInfo.isTouchInterface()){q()}aE();bN(false);if(bW){ap(false)}aV=b5.id;if(!TSC.deviceInfo.isIE()&&aP[0].currentTime){aP[0].currentTime=b5.markerTime/1000;aP[0].pause()}else{setTimeout(function(){aP[0].pause();aP[0].currentTime=b5.markerTime/1000},300)}if(aF&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()){I("#videoWrapper",TSC.quizUiStrings.getQuizFullscreenMode(),true)}TSC.quizController.displayConfirm(b5.id);TSC.quizController.pointViewAt(bq(b5.markerTime/1000));if(TSC.videoAnalytics.isEnabled()){var b7=TSC.videoAnalytics.getPercentageWatchedForVideoSegment((TSC.quizController.findPrevMarkerTimeForMarker(b5.id)),(b5.markerTime));TSC.quizController.updatePercentWatchedForQuestionSet(aV,b7)}}else{}}else{aV=-1}}var b6=0;$.each(TSC.xmp.getHotspotItemArray(),function(){var ce=$(this)[0];var cc;if(TSC.mediaList.isPlaylist()){cc=TSC.mediaList.currentVideoSrc()}var cf=true;if(ce.file!==undefined&&ce.file!==cc){cf=false}if(ce.start<ay&&ay<=ce.end&&cf){if(ce.isActive===false){ce.isActive=true;aK(b6,ce,av)}if(ce.pause!==undefined&&ce.pause===true&&ay+az>ce.end&&!aP[0].paused&&!ce.hasPaused){if(ce.hasPaused===false){aP[0].pause()}ce.hasPaused=true;au(ce.end)}}else{if(ce.isActive){ce.isActive=false;var cd=0;$("#hotspotMap area").each(function(){var cg=$(this)[0];cd++;if(Number($(cg).attr("hotspot_index"))===b6){return false}});if(cd>0){$("#hotspotMap area:nth-child("+cd+")").remove()}if(TSC.playerConfiguration.getDebugHotspot()){u()}}if(!aP[0].paused){ce.hasPaused=false}}b6++});var ca=false;var b9=false;$.each(TSC.xmp.getCaptionItemArray(),function(){var cd=$(this)[0];var cc;if(TSC.mediaList.isPlaylist()){cc=TSC.mediaList.currentVideoSrc()}var ce=true;if(cd.file!==undefined&&cd.file!==cc){ce=false}if(cd.start<ay&&ay<=cd.end&&ce){b9=true;if(cd.text!==R.text()){R.removeClass("captionHAlignLeft");R.removeClass("captionHAlignCenter");R.removeClass("captionHAlignRight");R.addClass(cd.hAlignClass);R.removeClass("captionVAlignTop");R.removeClass("captionVAlignBottom");R.addClass(cd.vAlignClass);m();cb=cd.htmlText;ca=true}}});if(b9){if(ca){if(cb!==""){cb="<span>"+cb+"</span>"}R.html(cb);if(cb!==""){$("#currentCaption span").css("background",TSC.xmp.getCaptionBg())}bJ();if(b){b.call(cb)}}}else{R.html("")}if(aX){ax.removeClass("closed_caption_off_button_normal");ax.addClass("closed_caption_button_normal");R.removeClass("hide");bJ()}else{ax.removeClass("closed_caption_button_normal");ax.addClass("closed_caption_off_button_normal");R.addClass("hide")}if(!bx&&aV===-1&&be&&!bM){bM=true;aP[0].pause();ar()}}function bE(b5){if(b5>1){b5=1}else{if(b5<0){b5=0}}aP[0].volume=b5}function au(b5){$.each(TSC.xmp.getHotspotItemArray(),function(){var b6=$(this)[0];if(b6.end===b5){b6.hasPaused=true}})}function bb(){$.each(TSC.xmp.getHotspotItemArray(),function(){var b5=$(this)[0];b5.hasPaused=false;b5.isActive=false});$("#hotspotMap area").remove();if(TSC.playerConfiguration.getDebugHotspot()){u()}}function bS(b7,b5){var b6=new RegExp(b5,"ig");return b7.replace(b6,"<span class='foundSearchText'>"+b5+"</span>")}function aN(ck,cA,cv,cf,cm,ce,ca){var b9="";var b7="";var ch;var co="";var cq="";var cr=1;var ci;var b5;var cg=0;var cp=0;var cx=20;var cs=65;var cc=false;if(cf!==undefined){cq="data-file='"+cf+"'"}if(ce){var cz=ce.split(",");var cn=-Number(cz[0]);var ct=-Number(cz[1]);var cl=Number(cz[2]);var cy=Number(cz[3]);var cw="";ch="hasThumbImage";co="style='height:"+cy+"px'";if(cy<cs){cc=true;co="style='height:"+cs+"px'"}if(TSC.xmp.getTocCellLayoutType()&&TSC.xmp.getTocCellLayoutType()==="imageOnly"&&ca===undefined){cg=(bu-cl-cx)/2}else{if(cl>(bu/2-cx)){cr=(bu/2-cx)/cl;cl=bu/2-cx;cp=Math.floor((cz[3]-(cz[3]*cr))/2)}else{cp=Math.floor((cs-(cz[3]*cr))/2)}}b5={};b5.width=Number(bu-cl-40)+"px";b5.left=Number(cl+5)+"px";b5.overflow="hidden";b5["line-height"]="1.2em";b5["max-height"]="4.8em";if(ca!==undefined){ci='<div class="tocItemLabel">'+bS(cA,ca)+"</div>"}else{if(TSC.xmp.getTocCellLayoutType()&&TSC.xmp.getTocCellLayoutType()==="imageOnly"){ci=""}else{ci='<div class="tocItemLabel">'+cA+"</div>"}}b7="<div>"+ci+"</div>"}else{co="";ch="noThumbImage";if(ca!==undefined){b7=bS(cA,ca)}else{b7=cA}}var cd="<li "+co+" class='"+ch+"' data-time='"+cv+"' "+cq+" ></li>";$(ck).append(cd);if(cm){var cu=cm.getContext("2d");cm.width=Number(cz[2])*cr;cm.height=Number(cz[3])*cr;cu.scale(cr,cr);if(v){cu.drawImage(v,cz[0],cz[1],cz[2],cz[3],0,0,cz[2],cz[3])}else{cu.fillStyle="#000000";cu.fillRect(0,0,cz[2],cz[3])}$(cm).css("margin-left",cg);$(cm).css("margin-top",cp);$(ck+" li:last-child").append(cm)}$(ck+" li:last-child").append(b7);if(cm){$(ck+" li:last-child .tocItemLabel").css(b5);var b8=0;var b6=cs;if(!$(bW).is(":visible")){ap(true);b8=$(ck+" li:last-child .tocItemLabel").height();if(!cc){b6=$(ck+" li:last-child").height()}ap(false)}else{b8=$(ck+" li:last-child .tocItemLabel").height();if(!cc){b6=$(ck+" li:last-child").height()}}var cb=-8;if(!cc&&cr===1){cb=4}var cj=-Number(b6+cb);cj+=(b6-b8)/2;cp=Math.floor((b6-(cz[3]*cr))/2);$(cm).css("margin-top",cp);$(ck+" li:last-child .tocItemLabel").css("top",cj+"px")}if(TSC.mediaList.isPlaylist()){ac(H)}}function bw(b5){v=new Image();v.onload=function(){bZ()};v.src=b5}function bZ(){var b7=TSC.xmp.getTocItemArray();var b5=b7.length;var b8;$("#tableOfContentsList li").remove();for(var b6=0;b6<b5;b6++){if(b7[b6].imageRect){b7[b6].imageRef=document.createElement("canvas")}aN("#tableOfContentsList",b7[b6].text,b7[b6].time,b7[b6].file,b7[b6].imageRef,b7[b6].imageRect)}}function bk(){var b9=bO.width;var b7=bO.height;var cb;var b8;var b5;var ca=0.6;if(b7<=b9){if(b9>(bu-20)){cb=(bu-20)/b9;b8=(bu-20);b5=b7*cb}else{cb=1;b8=b9;b5=b7}}else{if(b7>(bu-20)){cb=((b9*ca)-20)/b7;b5=((bu*ca)-20);b8=b9*cb}else{cb=1;b5=b7;b8=b9}}var b6='<div id="pipimage" style="background-image: url('+TSC.xmp.getTocImageSrc()+");background-repeat:no-repeat;background-size:contain;width: "+b8+"px;height: "+b5+"px;border: 1px solid #FFFFFF;margin-left: "+((bu-b8)/2)+"px;margin-right:"+((bu-b8)/2)+'px;margin-top: 10px;margin-bottom:  10px;"></div>';$(b6).prependTo($("#videoSidebarHead"));$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle());U()}function ap(b5){if(b5){bW.show();w(false)}else{bW.hide();if(!aH){w(true)}}}function S(b8){bD=false;if(TSC.deviceInfo.isTouchInterface()&&aJ){return}var b5=$(this).attr("data-time");var b6=$(this).attr("data-file");if(b6!==undefined){bb();var b7=TSC.mediaList.getVideoIndexBySrc(b6);if(b7===TSC.mediaList.currentVideoIndex()){aP[0].currentTime=b5}else{TSC.mediaList.setCurrentVideo(b7);K()}ac(b7+1)}else{bb();aP[0].currentTime=b5}}function a6(){if(bs){ap(true)}else{ap(false)}if(TSC.playerConfiguration.getIsSearchable()){C.keyup(function(){if(C.val()!=""){bj.hide();$("#searchList").remove();$("#videoSidebarContent").append("<ol id='searchList' ></ol>");d(TSC.xmp.getTocItemArray());d(TSC.xmp.getCaptionItemArray());bH(TSC.xmp.getScreenTextItemArray());if(TSC.xmp.getCaptionItemArray().length<1&&TSC.xmp.getScreenTextItemArray().length>0){bH(TSC.xmp.getScreenTextItemArray())}$("#searchList").show()}else{ad()}});bn.click(function(){C.val("");ad()})}else{$("#searchArea").remove()}if(TSC.xmp.getTocImageSrc()){bO=new Image();bO.onload=bk;bO.src=TSC.xmp.getTocImageSrc()}else{$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle())}if(TSC.xmp.tocContainsThumbs()){bw(TSC.xmp.getTocThumbImageSrc())}bZ();if(TSC.deviceInfo.isTouchInterface()){bg="touchend";aJ=false}else{$("#videoSidebarContent ol li").live(bg,S)}}function aW(b7){var b6;bx=true;if(!TSC.deviceInfo.isTouchInterface()){window.clearTimeout(ah)}if(aP[0].paused){b6=false}else{b6=true;aP[0].pause()}bB();if(TSC.deviceInfo.isTouchInterface()){Y(b7.originalEvent.touches[0].clientX);document.ontouchmove=function(b8){b8.preventDefault();Y(b8.pageX)};document.ontouchend=b5}else{document.onmousemove=function(b8){Y(b8.pageX)};document.onmouseup=b5}function b5(b8){if(bx&&!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()){bh()}bx=false;n();if(TSC.deviceInfo.isTouchInterface()){document.ontouchmove=null;document.ontouchend=null}else{document.onmousemove=null;document.onmouseup=null}if(b6&&!be){aP[0].play()}X()}}function bF(){aP.bind("timeupdate",function(){F()});aP.bind("progress",function(){J()});aP.bind("durationchange",function(){J();if(aO){window.clearInterval(aO)}aO=window.setInterval(J,1000)});if(!TSC.deviceInfo.isTouchInterface()){aj.bind("mousedown",aW);aj.bind("mouseup",function(b5){Y(b5.originalEvent.pageX)})}}function J(){if(aP&&aP.length>0){var b5=0;if(aP[0].buffered&&aP[0].buffered.length){b5=Math.ceil(((aP[0].buffered.end(0)/aP[0].duration)*100))}$("#load_progress").css("width",b5+"%");if(b5===100){if(aO){window.clearInterval(aO)}}}}function bB(){document.body.focus();document.onselectstart=function(){return false}}function n(){document.onselectstart=function(){return true}}function Y(cb){bb();var b5=Math.max(0,Math.min(1,(cb-aj.position().left)/aj[0].offsetWidth));var b8=b5*(aj[0].offsetWidth-2);if(L.length>0){var ca=M.offset().left;var b7=L.width();var b6=b8-Math.floor(b7/2);L.css("left",b6+1)}M.width(b8);bD=false;try{aP[0].currentTime=Number(b5*aP[0].duration)}catch(b9){if(b9.code==DOMException.INDEX_SIZE_ERR){}}Z()}function F(){M.width((aP[0].currentTime/aP[0].duration)*(aj[0].offsetWidth-2));var b7=M.offset().left;var b6=(aP[0].currentTime/aP[0].duration)*(aj[0].offsetWidth-2);if(L.length>0){var b5=L.width();L.css("left",b6-Math.floor(b5/2))}Z()}function Z(){o[0].innerHTML=j(aP[0].currentTime);if(aP[0].duration){a0[0].innerHTML=j(aP[0].duration)}}function j(b6){b6=Math.round(b6);var b5=Math.floor(b6/60);b5=(b5>=10)?b5:"0"+b5;b6=Math.floor(b6%60);b6=(b6>=10)?b6:"0"+b6;return b5+":"+b6}function aw(b6,b8){var b5=100;try{b5=localStorage.getItem("volume")==undefined?100:localStorage.getItem("volume")}catch(b7){}b6.slider({orientation:b8,range:"min",min:0,max:100,value:b5,slide:function(b9,ca){aU.removeClass("volume_button_high_normal");aU.removeClass("volume_button_med_normal");aU.removeClass("volume_button_low_normal");aU.removeClass("volume_button_normal");aU.removeClass("unmute_button_normal");if(ca.value>70){aU.addClass("volume_button_high_normal")}else{if(ca.value>30){aU.addClass("volume_button_med_normal")}else{if(ca.value>0){aU.addClass("volume_button_low_normal")}else{aU.addClass("unmute_button_normal")}}}bE(ca.value/100);try{localStorage.setItem("volume",ca.value)}catch(cb){}}});try{bE(localStorage.getItem("volume")==undefined?100:localStorage.getItem("volume")/100)}catch(b7){}}function aC(){a3.show(bI)}function b2(){if(aM!==-1){clearTimeout(aM);aM=-1}a3.unbind("mouseenter");a3.unbind("mouseleave");a3.hide(bI)}function aY(){if(bt&&bs){$(this).removeClass("toc_off_button_normal");$(this).addClass("toc_button_normal");ap(false)}$("#hotspotContainer").hide();if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").hide()}k.show()}function b4(b5,b6){bM=false;bD=false;k.hide();bT.css("visibility","visible");bb();if(!TSC.deviceInfo.isTouchInterface()){z()}if(!TSC.mediaList.isPlaylist()){aP[0].currentTime=b5}if(b6){if(TSC.mediaList.isPlaylist()){TSC.mediaList.setCurrentVideo(0);ac(TSC.mediaList.currentVideoIndex()+1);K()}else{aP[0].play()}}$("#hotspotContainer").show();if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").show()}}function ar(){if(Math.floor(aP[0].currentTime)<Math.floor(aP[0].duration)){if(aO){window.clearInterval(aO)}var b7=":( This video failed to load completely.";if(!TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){b7+="  You may need to try another browser or use the Flash plugin."}I(undefined,b7,false);return}if(TSC.mediaList.isPlaylist()&&!TSC.mediaList.onLastVideo()){bf=true;TSC.mediaList.setCurrentVideo("next");ac(TSC.mediaList.currentVideoIndex()+1);K()}else{if(!TSC.deviceInfo.isTouchInterface()){q()}aP[0].pause();g.removeClass("pause_normal");g.addClass("play_normal");setTimeout(a5,1000);var b5=false;var b6=true;var b8=false;var ca=true;if(TSC.playerConfiguration.getEndActionType()!=undefined){var b9=TSC.playerConfiguration.getEndActionParam();switch(TSC.playerConfiguration.getEndActionType().toLowerCase()){case"loop":b5=(b9==="true"||b9==="1")?true:false;break;case"stop":b6=(b9==="false"||b9==="0")?false:true;break;case"jumptotime":b8=true;break;case"jumptotimeandstop":ca=false;b8=true;break;case"jumptourl":if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished_Action",b9])}if(TSC.deviceInfo.isNuevoApp()){setTimeout(function(){window.open(""+b9,"_parent")},500)}else{window.open(""+b9,"_parent")}break;case"jumptourlnew":if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished_Action",b9])}window.open(""+b9,"_blank");break}}if(b5){b4(0,true)}else{if(b8){b4((b9/1000),ca)}else{if(b6){if(aF){document.webkitCancelFullScreen()}if(!TSC.deviceInfo.isTouchInterface()){aE()}bi();aY()}else{bD=true}}}if(TSC.playerConfiguration.getReportScormComplete()){if(typeof userSubmitVideoCompletedToLMS=="function"){userSubmitVideoCompletedToLMS()}}}}function aR(){bc=!bc;if(an.hasClass("tscplayer_inline")){$("#fullscreen_enter_button").removeClass("fullframe_enter_button_normal");$("#fullscreen_enter_button").addClass("fullframe_leave_button_normal");bY=window.parent.scrollY||window.top.pageYOffset;window.parent.scrollTo(0,0);$("html",window.parent.document).css("overflow","hidden");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){if(P){$("#searchBox").blur();setTimeout(aQ,100)}else{aQ()}}else{an.removeClass("tscplayer_inline");an.attr("width","100%");an.attr("height","100%");an.addClass("tscplayer_fullframe")}}else{$("#fullscreen_enter_button").removeClass("fullframe_leave_button_normal");$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal");$("html",window.parent.document).css("overflow","auto");an.removeClass("tscplayer_fullframe");an.removeAttr("width");an.removeAttr("height");an.addClass("tscplayer_inline");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){clearTimeout(a4);aB();bL()}window.top.scrollTo(0,bY)}}function ao(){$("#hotspotContainer").unbind("touchstart");$("#hotspotContainer").unbind("touchmove");$("#hotspotContainer").unbind("touchend");$("#videoDiv").unbind("touchstart");$("#videoDiv").unbind("touchmove");$("#videoDiv").unbind("touchend");aj.unbind("touchstart");$("#videoSidebarContent ol li").die("touchstart");$("#videoSidebarContent ol li").die("touchmove");$("#videoSidebarContent ol li").die(bg,S)}function e(){var b5=false;$("#hotspotContainer").bind("touchstart",function(b6){b5=false});$("#hotspotContainer").bind("touchmove",function(){b5=true});$("#hotspotContainer").bind("touchend",function(b6){if(!b5){if(aH){bN()}else{bi()}}b5=false});$("#videoDiv").bind("touchstart",function(b6){b5=false});$("#videoDiv").bind("touchmove",function(){b5=true});$("#videoDiv").bind("touchend",function(){if(!b5){if(aH){bN()}else{bi()}}b5=false});aj.bind("touchstart",aW);$("#videoSidebarContent ol li").live("touchstart",function(b6){aJ=false});$("#videoSidebarContent ol li").live("touchmove",function(b6){aJ=true});$("#videoSidebarContent ol li").live(bg,S)}function aI(){if(TSC.playerConfiguration.getAllowRewind()!==-1){t.click(function(){bD=false;var b5=Number(aP[0].currentTime)-TSC.playerConfiguration.getAllowRewind();aP[0].currentTime=Number(b5)})}else{t.hide()}g.click(function(){if(aP[0].paused){if(bD){aa()}else{aP[0].play()}}else{aP[0].pause()}});bd.click(function(){if(!TSC.mediaList.onFirstVideo()){TSC.mediaList.setCurrentVideo("previous");ac(TSC.mediaList.currentVideoIndex()+1);K()}});A.click(function(){if(!TSC.mediaList.onLastVideo()){TSC.mediaList.setCurrentVideo("next");ac(TSC.mediaList.currentVideoIndex()+1);K()}});aP.bind("play",function(){g.removeClass("play_button_normal");g.addClass("pause_button_normal")});aP.bind("pause",function(){g.removeClass("pause_button_normal");g.addClass("play_button_normal")});aP.bind("ended",function(){if(bx){return}X();if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished",TSC.mediaList.currentVideoSrc().toString()])}});k.click(function(){aa()});bF();aU.mouseover(function(){if(aM!=-1){clearTimeout(aM);aM=-1}aC()});aU.mouseout(function(){if(bX.length>0){a3.bind("mouseenter",function(){if(aM!=-1){clearTimeout(aM);aM=-1}});a3.bind("mouseleave",function(){aM=setTimeout(function(){b2();aM=-1},1000)});if(aM!=-1){clearTimeout(aM);aM=-1}aM=setTimeout(function(){b2();aM=-1},1000)}});aU.click(function(){var b5;bU=!bU;if(bU){bo=aP[0].volume;b5=0;bX.slider("value",[0])}else{b5=bo;bX.slider("value",[bo*100])}aU.removeClass("volume_button_high_normal");aU.removeClass("volume_button_med_normal");aU.removeClass("volume_button_low_normal");aU.removeClass("volume_button_normal");aU.removeClass("unmute_button_normal");if(b5>0.7){aU.addClass("volume_button_high_normal")}else{if(b5>0.3){aU.addClass("volume_button_med_normal")}else{if(b5>0){aU.addClass("volume_button_low_normal")}else{aU.addClass("unmute_button_normal")}}}bE(b5)});if(ae.length>0){aw(ae,"horizontal");a3.show()}else{aw(bX,"vertical")}if(TSC.xmp.hasCaptionItems()){ax.click(function(){aX=!aX;if(aX){$(this).removeClass("closed_caption_off_button_normal");$(this).addClass("closed_caption_button_normal");R.removeClass("hide");bJ()}else{$(this).removeClass("closed_caption_button_normal");$(this).addClass("closed_caption_off_button_normal");R.addClass("hide")}})}aq.click(function(){if(bp){aR()}else{if(!aF){var b5=document.getElementById("videoWrapper");if(TSC.deviceInfo.supportsFullScreenKeyboardInput()){b5.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(bt&&TSC.playerConfiguration.getIsSearchable()){$("#searchArea").hide();$("#videoSidebarHead").append("<div id='fsSearchAlert'>Search is disabled in fullscreen mode.</div>")}b5.webkitRequestFullScreen()}}else{if(TSC.playerConfiguration.getIsSearchable()){at()}document.webkitCancelFullScreen()}}});if(bt){O.click(function(){bs=!bs;if(bs){$(this).removeClass("toc_off_button_normal");$(this).addClass("toc_button_normal")}else{$(this).removeClass("toc_button_normal");$(this).addClass("toc_off_button_normal")}if(bW.css("display")==="none"){ap(true);U()}else{ap(false)}});if(TSC.playerConfiguration.getSidebarEnabled()){bs=true;O.removeClass("toc_off_button_normal");O.addClass("toc_button_normal");ap(true)}else{O.removeClass("toc_button_normal");O.addClass("toc_off_button_normal")}}if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){$("textarea").live("blur",function(){bC=false;e();if(bc){ba()}});$("textarea").live("focus",function(){bC=true;ao();if(bc){aB()}});$("input:text").live("blur",function(){bC=false;e();if(bc){ba()}});$("input:text").live("focus",function(){bC=true;ao();if(bc){aB()}});window.parent.onorientationchange=function(){if(bc){if(P){$("#searchBox").blur();setTimeout(am,500)}else{am()}}}}else{z()}}function aa(){if(!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()){af()}else{bN()}b4(0,true);if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Replay",TSC.mediaList.currentVideoSrc().toString()])}}function y(){if(window.parent.scrollX>0||window.parent.scrollY>0){if(bC){window.parent.scrollTo(0,window.parent.scrollY)}else{var b5=window.parent.scrollY-50;b5<0?0:b5;window.parent.scrollTo(0,b5)}}a4=setTimeout(y,10)}function aB(){$(document).unbind("touchmove");$(document).unbind("gesturestart");$(window.parent).unbind("gesturestart");$(document).unbind("gestureend");$(window.parent).unbind("gestureend")}function ba(){$(document).bind("touchmove",function(b5){if(!(($.contains(bj[0],b5.target))||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()&&TSC.quizController.viewOpen()))){b5.preventDefault()}});$(document).bind("gesturestart",function(b5){b5.preventDefault()});$(window.parent).bind("gesturestart",function(b5){b5.preventDefault()});$(document).bind("gestureend",function(b5){aR()});$(window.parent).bind("gestureend",function(b5){aR()})}function aQ(){y();ba();an.removeClass("tscplayer_inline");an.attr("width",window.parent.innerWidth);an.attr("height",window.parent.innerHeight);an.addClass("tscplayer_fullframe");bL()}function am(){if(window!=window.top){window.parent.scrollTo(0,0)}else{window.scrollTo(0,0)}an.attr("width",window.parent.innerWidth);an.attr("height",window.parent.innerHeight);bL()}function af(){if(TSC.deviceInfo.isTouchInterface()){return}$(bl).hover(bN,bi);var b5=null;$(bl).bind("mousemove",function(b6){if(b5==null||(b5.pageX!=b6.pageX&&b5.pageY!=b6.pageY)){b5=b6;bN(true)}});bh()}function aE(){window.clearTimeout(ah);$(bl).unbind("mousemove");$(bl).unbind("mouseenter mouseleave")}function bi(){w(false);if(P||bx){return}aH=true;i.stop(true,true);i.fadeOut(p);if(bs){bW.stop(true,true);bW.fadeOut(p)}if(aM!==-1){b2()}}function bN(b5){if(aH){aH=false;i.stop(true,true);i.fadeIn(p);if(bs){bW.stop(true,true);bW.fadeIn(p)}else{w(true)}if(b5){F()}if(bf){bf=false;bL()}}if(b5){bh()}}function w(b5){if(TSC.deviceInfo.isNuevoApp()){if(b5){document.location="nuevo://shownavbar"}else{document.location="nuevo://hidenavbar"}}}function a5(){if(TSC.deviceInfo.isNuevoApp()){var b5=document.location;document.location="nuevo://hasPlayedToEnd?url="+b5}}function bh(){window.clearTimeout(ah);ah=window.setTimeout(bi,x)}function G(b7){var b9=TSC.xmp.getHotspotItemArray();var b5=Number($(b7.target).attr("hotspot_index"));if(b9[b5].jumpFile!==undefined){var b8=TSC.mediaList.getVideoIndexBySrc(b9[b5].jumpFile);TSC.mediaList.setCurrentVideo(b8);ac(TSC.mediaList.currentVideoIndex()+1);K()}else{if(b9[b5].jumpTime!==""){bD=false;bb();aP[0].currentTime=Number(b9[b5].jumpTime);aP[0].play()}else{if(b9[b5].targetURL!==""){if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Hotspot_Action",b9[b5].targetURL])}var b6="_parent";if(b9[b5].newWindow!==undefined&&b9[b5].newWindow===true){b6="_blank"}window.open(b9[b5].targetURL,b6)}else{aP[0].play()}}}}function D(){var b5=Math.round(Number(TSC.xmp.getCaptionFontSize())*av);b5=b5<TSC.xmp.getMinCaptionFontSize()?TSC.xmp.getMinCaptionFontSize():b5;b5=b5>TSC.xmp.getMaxCaptionFontSize()?TSC.xmp.getMaxCaptionFontSize():b5;$("#currentCaption").css("font-size",b5)}function bQ(){if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.setVideoLoadEndTime(new Date().getTime());if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Loading_Time",TSC.mediaList.currentVideoSrc().toString(),TSC.videoAnalytics.getVideoLoadTime()])}}ab=true}function s(){if(TSC.xmp.hasHotspotItems()){if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").css("display","block")}}if(TSC.xmp.hasCaptionItems()){$("#currentCaption").css("font-family",TSC.xmp.getCaptionFontFamily());$("#currentCaption").css("color",TSC.xmp.getCaptionTextColor());D();aX=TSC.playerConfiguration.getCaptionsEnabled()}if(TSC.playerConfiguration.getGoogleAnalyticsID()||TSC.xmp.hasCaptionItems()||TSC.xmp.hasHotspotItems()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled())){aP.bind("timeupdate",X)}aP.bind("canplay",bQ)}function bv(b5,ca,b9,cc,b8){if(!b9){b9=TSC.playerConfiguration.getPlayerWidth()}if(!cc){cc=TSC.playerConfiguration.getPlayerHeight()}if(!b8){b8=false}var b7='<video width="'+b9+'" height="'+cc+'"';if(b8&&TSC.playerConfiguration.getPosterImageSrc()){b7+=' poster="'+TSC.playerConfiguration.getPosterImageSrc()+'"'}if(ca){b7+=" controls"}if(TSC.deviceInfo.isNuevoApp()){b7+=" webkit-playsinline"}b7+=">";var cb=b5.length;for(var b6=0;b6<cb;b6++){b7+='<source src="'+b5[b6]+'" type="'+TSC.mediaList.getMediaMimeType(b5[b6])+'" />'}b7+=TSC.playerConfiguration.getUnableToDisplayContentString()+"</video>";return b7}function bP(b6){if(h.viewOpen()){h.setViewMessage(b6)}else{var b5=h.getViewMarkup(b6);$(bl).append(b5);h.showView()}}function T(){if(h.viewOpen()){h.removeView()}}function aT(){$("#videoClickToPlay").hide();TSC.quizController.init(TSC.playerConfiguration.getEnforceLinearAssessment())}function a8(){var b6=bv(TSC.mediaList.currentVideoSrc(),false);$("#videoDiv").html(b6);aP=$("video");aP[0].addEventListener("loadedmetadata",B,false);if(TSC.playerConfiguration.getPosterImageSrc()){a1()}$("#videoClickToPlay").hide();$("#videoWrapper").show();s();aI();if(bt){a6()}if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){var b5=$("<div/>");b5.addClass("quizMarker");$(bl).append(b5);TSC.quizMarker.setSize($(".quizMarker").css("width").replace(/px/g,""));TSC.quizMarker.setColor($(".quizMarker").css("color"));$("#markers").show()}bf=true;bL();if(b3){b3.call()}if(TSC.deviceInfo.isTouchInterface()){e()}else{if(TSC.playerConfiguration.getAutoHideControls()){af()}}i.hide();bP("Please wait... the video is loading.");K()}function K(){bM=false;bD=false;if(TSC.mediaList.isPlaylist()){if(TSC.mediaList.onFirstVideo()){bd.removeClass("previous_button_normal");bd.addClass("previous_button_disabled")}else{bd.addClass("previous_button_normal");bd.removeClass("previous_button_disabled")}if(TSC.mediaList.onLastVideo()){A.removeClass("next_button_normal");A.addClass("next_button_disabled")}else{A.addClass("next_button_normal");A.removeClass("next_button_disabled")}if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.clearPercentWatched();aA=0}aP[0].src=TSC.mediaList.currentVideoSrc()}if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){aP[0].play()}else{aP[0].load();aP[0].play()}if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.setVideoLoadStartTime(new Date().getTime())}if(TSC.playerConfiguration.getGoogleAnalyticsID()&&W){W=false;_gaq.push(["_trackEvent","HTML5-Video","Video_Started",TSC.mediaList.currentVideoSrc().toString()]);_gaq.push(["_trackEvent","HTML5-Video","Video_Percent_Viewed","Viewed: 0 Percent"])}}function bG(b6){switch(b6.type){case"COMPLETE":case"REVIEW":if(bW&&bs){ap(true)}if(!TSC.deviceInfo.isTouchInterface()){z();if(TSC.playerConfiguration.getAutoHideControls()){af()}}ak();if(b6.type==="REVIEW"&&TSC.playerConfiguration.getEnforceLinearAssessment()){var b5=TSC.quizController.findPrevMarkerTimeForMarker(aV);aV=-1;aP[0].currentTime=b5/1000;aP[0].play()}else{aP[0].play()}break;case"BEGIN":case"SKIP":TSC.quizController.setViewContainer("#videoWrapper");$("#videoClickToPlayLink").unbind("click",aT);if(!aP){a8()}else{if(a9&&TSC.quizController.getQuizReady()){T();aP[0].play();i.show();bf=true;bL()}}break;case"ERROR":if(!aP){a8()}I("#videoWrapper",TSC.quizUiStrings.getErrorMessage(),true);break;case"STATUS":bP(b6.message);break}}function V(b7,b5){bl=b7;bt=b5;$(bl).html(bA);$(bl).css("background-color",TSC.playerConfiguration.getBackgroundColor());if(TSC.playerConfiguration.getPosterImageSrc()){f(TSC.playerConfiguration.getPosterImageSrc())}$(bl).fadeIn(p);$("#videoClickToPlay").fadeIn(p);t=$("#rewind");g=$("#play");bd=$("#previous");A=$("#next");bz=$("#progress");aj=$("#progress_box");i=$("#controls");M=$("#play_progress");o=$("#current_time_display");a0=$("#duration_display");bW=$("#videoSidebar");aU=$("#volume");R=$("#currentCaption");ax=$("#closedCaptionButton");bT=$("#videoWrapper");k=$("#videoClickToReplay");C=$("#searchBox");bn=$("#clearSearchButton");bj=$("#tableOfContentsList");aq=$("#fullscreen_enter_button");O=$("#tocButton");bX=$("#volume_slider_vertical");ae=$("#volume_slider_horizontal");a3=$("#volume_slider_container");L=$("#scrubbar_scrubber");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){aU.hide();aq.hide()}if(bt){O.show()}if(TSC.xmp.hasCaptionItems()){ax.show()}if(!TSC.mediaList.isPlaylist()){bd.hide();A.hide()}bL();$(window).resize(function(){bf=true;bL()});C.focus(function(){P=true;if(C.val()=="Search..."){C.val("")}if(!TSC.deviceInfo.isTouchInterface()){q();window.clearTimeout(ah)}});C.blur(function(){P=false;if(C.val().replace(/ /g,"")===""){C.val("Search...")}if(!TSC.deviceInfo.isTouchInterface()){z();if(TSC.playerConfiguration.getAutoHideControls()){bh()}}});var b6=TSC.deviceInfo.isIPad()&&!TSC.deviceInfo.isNuevoApp();if(b6||TSC.deviceInfo.isAndroid()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled())){TSC.playerConfiguration.setAutoPlayMedia(false)}if(TSC.playerConfiguration.getAutoPlayMedia()===true){setTimeout(a8,80)}else{if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){$("#videoClickToPlayLink").bind("click",aT)}else{$("#videoClickToPlayLink").bind("click",a8)}}if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){TSC.quizController.setViewContainer(bl);TSC.quizController.setQuestionData(TSC.quizModel);TSC.quizController.setViewControlBarOffset(i.height());TSC.quizController.addEventListener("COMPLETE",bG);TSC.quizController.addEventListener("REVIEW",bG);TSC.quizController.addEventListener("BEGIN",bG);TSC.quizController.addEventListener("SKIP",bG);TSC.quizController.addEventListener("ERROR",bG);TSC.quizController.addEventListener("STATUS",bG)}if(TSC.playerConfiguration.getGoogleAnalyticsID()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled())){TSC.videoAnalytics.setEnabled(true);if(TSC.xmp.xmpAvailable()){TSC.videoAnalytics.initPercentWatched(TSC.xmp.getMediaDuration())}}E=true}function aL(b9){var b5={};b5.src=TSC.playerConfiguration.getUnicodeSafeString(TSC.playerConfiguration.getMediaSrc());if(TSC.playerConfiguration.getXMPSrc()){b5.xmp=TSC.playerConfiguration.getXMPSrc()}if(!TSC.playerConfiguration.getXMPSrc()&&TSC.playerConfiguration.getAutoPlayMedia()){b5.autoPlay=TSC.playerConfiguration.getAutoPlayMedia()}if(TSC.playerConfiguration.getAllowRewind()!==-1){b5.allowRewind=TSC.playerConfiguration.getAllowRewind()}if(TSC.playerConfiguration.getConfigurationSrc()){b5.configuration=TSC.playerConfiguration.getConfigurationSrc()}b5.debugHotspots=TSC.playerConfiguration.getDebugHotspot();if(TSC.playerConfiguration.getPosterImageSrc()){b5.poster=TSC.playerConfiguration.getPosterImageSrc()}if(TSC.playerConfiguration.getGoogleAnalyticsID()&&TSC.playerConfiguration.getGoogleAnalyticsID()!=""){b5.analytics=TSC.playerConfiguration.getGoogleAnalyticsID();if(!TSC.playerConfiguration.getGAEventTracking()){b5.trackEvents=false}}b5.advancedSeeking=TSC.playerConfiguration.getAdvancedSeeking();b5.enforceLinearAssessments=TSC.playerConfiguration.getEnforceLinearAssessment();b5.scormComplete=TSC.playerConfiguration.getReportScormComplete();var b7=TSC.playerConfiguration.getMinFlashPlayerVersion();var b8={};b8.quality="high";b8.bgcolor="#000000";b8.allowscriptaccess="always";b8.allowfullscreen="true";b8.wmode="direct";b8.allowNetworking="all";if(TSC.playerConfiguration.getSwfBase()!=="."){b8.base=TSC.playerConfiguration.getSwfBase()}var b6={};b6.id="tscplayer";b6.name="tscplayer";b6.align="middle";swfobject.embedSWF(TSC.playerConfiguration.getFlashPlayerSwf(),b9.replace(/#/,""),TSC.playerConfiguration.getPlayerWidth(),TSC.playerConfiguration.getPlayerHeight(),b7,TSC.playerConfiguration.getFlashUpdateBootstrapSwf(),b5,b8,b6);swfobject.createCSS(b9,"display:block;text-align:left;");$(b9).show()}function I(b7,b6,b5){b6="<span>"+b6+"</span>";if(b5){b6+="<h4>Click to Close</h4>"}if(E){$("#alertDialog").html(b6);$("#alertDialog").fadeIn(p)}else{$(b7).css("background-color",TSC.playerConfiguration.getBackgroundColor());$(b7).css("height","100%");$(b7).html('<div id="alertDialog">'+b6+"</div>");$(b7).fadeIn(p);$("#alertDialog").show()}if(b5){$("#alertDialog").bind("click",function(){$("#alertDialog").hide();$("#alertDialog").unbind("click")})}}function a7(){var b5="#000";if(TSC.playerConfiguration.getPosterImageSrc()){b5+=" url("+TSC.playerConfiguration.getPosterImageSrc()+") center no-repeat"}$(".appplayer").css({background:b5,position:"relative","border-radius":"5px","background-size":"cover",height:"100%","z-index":"1"})}function aG(){var b5='<div class="appplayer">                <div class="posterFade">                    <div class="topBrdr"><div class="topBrdrInner"></div></div>                    <div class="content">                        <h2>Play with TechSmith Smart Player</h2>                        <a class="appNuevoPlayBtn"></a>                        <a href="" class="appstoreBtn"></a>                    </div>                    <a class="appNativePlayBtn">                       <div class="appNativePlayBtnText">Play Video Only</div>                    </a>                    <div class="btmBrdr"><div class="btmBrdrInner"></div></div>                </div>            </div>';return b5}function a(b5){if(TSC.mediaPlayer.isNuevoAppCapableAndAvailable()){$(b5).after(aG());a7();$(".appplayer").show();$(b5).hide();$(".appNuevoPlayBtn").click(function(){$(".appplayer").hide();$(b5).show();TSC.mediaPlayer.redirectToiPhoneApp()});$(".appNativePlayBtn").click(function(){$(".appplayer").hide();$(b5).show();aP=$("video");aP[0].play()});$(".appstoreBtn").click(function(){TSC.mediaPlayer.redirectToiPhoneAppDownload()})}else{$(b5).fadeIn(p)}}return{initHtml5View:function(b6,b5){V(b6,b5)},initSimpleHtml5View:function(cc){if(TSC.mediaList.isPlaylist()){var cb=$(window).innerWidth()-20;if(window!=window.top){an.addClass("tscplayer_fullframe");an.css("width",$(window.parent).innerWidth());an.css("height","100%");cb=$(window.parent).innerWidth()-20}var b6=TSC.mediaList.getMediaList();var ca=b6.length;var b9="<ol>";for(var b7=0;b7<ca;b7++){b9+="<li>"+bv([b6[b7]],true,cb,75,true)+"</li>"}b9+="</ol>";$(cc).html(b9);$(cc).css("background-color","#ffffff");$("body").css("overflow","auto");$(cc).css("overflow","auto");$(cc+" ol").css("list-style","none");$(cc+" ol").css("margin","10px");$(cc+" ol").css("padding","0")}else{$(cc).html(bv(TSC.mediaList.currentVideoSrc(),true,undefined,undefined,true));if(window!=window.top){var b5=$(window.parent).innerWidth()-40;var b8=b5*1.33333333333333;an.css("width",b5);an.css("height",b8)}}a(cc)},initFlashView:function(b5){aL(b5)},getFlashId:function(){return aS},displayMessagePanel:function(b6,b5){I(b6,b5,true)},addEventListener:function(b5,b6){if(b5==="VIDEO_START"){b3=b6}else{if(b5==="CAPTION_CHANGE"){b=b6}}},removeEventListener:function(b5){if(b5==="VIDEO_START"){b3=undefined}else{if(b5==="CAPTION_CHANGE"){b=undefined}}}}}();var TSC=TSC||{};TSC.xmp=(function(){$.fn.filterNode=function(Z){return this.find("*").filter(function(){return this.nodeName===Z})};var D;var a;var E="There seems to be a problem accessing certain features of this video. Please contact the video Author.";var z="Certain features in your video are currently disabled due to Local Network Security. These features work correctly when the video is played from a Website or Server.";var Q=false;var V=false;var A=false;var k=false;var U=false;var j=false;var e=false;var r;var g;var Y;var v;var h;var d;var W;var m;var x;var q=null;var w;var B;var M=false;var p="";var S=0;var y="#ffffff";var G="#000000";var n=0.9;var O="Arial, Helvetica, sans-serif;";var l=18;var T={r:255,g:255,b:255};var t=2;var J=144;var K=[];var C=[];var c=[];var b=[];var f=[];function F(aa,Z,ab){if(a){a.call()}}function N(ae,ad,Z){var ac=(ae<<16|ad<<8|Z).toString(16);var aa=6-ac.length;for(var ab=0;ab<aa;ab++){ac="0"+ac}return"#"+ac}function s(Z){$(Z).find("*").filterNode("rdf:Description").each(function(){var ac=Number($(this).attr("xmpDM:startTime"))/1000;var aa=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var ad=$(this).attr("xmpDM:name");var ab=$(this).attr("tscDM:image");var af=$(this).attr("tscDM:imagerect");if(af&&!M){M=true;if(TSC.playerConfiguration.getSwfBase()!=="."){p=TSC.playerConfiguration.getSwfBase()+TSC.playerConfiguration.getUnicodeSafeString(ab)}else{p=TSC.playerConfiguration.getUnicodeSafeString(ab)}}var ae={time:ac,text:ad,file:aa,image:ab,imageRect:af};K.push(ae)})}function i(ab){var aa=$(ab).find("*").length;var ac=ab.find("*").eq(aa-2);if(ac&&ac.length>0&&ac[0].nodeName==="tsc:fgColor"){var ae=ac.attr("xmpG:red");var ad=ac.attr("xmpG:green");var Z=ac.attr("xmpG:blue");y=N(ae,ad,Z)}var af=ab.find("*").eq(aa-1);if(af&&af.length>0&&af[0].nodeName==="tsc:bgColor"){T.r=af.attr("xmpG:red");T.g=af.attr("xmpG:green");T.b=af.attr("xmpG:blue");G=N(T.r,T.g,T.b)}$(ab).find("*").filterNode("rdf:Description").each(function(){var ai=Number($(this).attr("xmpDM:startTime"))/1000;var am=Number($(this).attr("xmpDM:duration"))/1000;var ap=ai+am;var ag=$(this).find("*").filterNode("rdf:li").text();var aj=TSC.textFormatter.rtfToText(ag);var an=$(this).attr("tscDM:valign");var ak=$(this).attr("tscDM:halign");var al;var ah;switch(an){case"top":al="captionVAlignTop";break;default:al="captionVAlignBottom";break}switch(ak){case"left":ah="captionHAlignLeft";break;case"right":ah="captionHAlignRight";break;default:ah="captionHAlignCenter";break}ag=TSC.textFormatter.rtfToHTML(ag);var aq=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));if(aj.replace(/ /g,"")!==""){var ao={start:ai,end:ap,text:aj,htmlText:ag,file:aq,vAlign:an,vAlignClass:al,hAlignClass:ah};C.push(ao)}})}function I(ad,ab){var ag=[];var aa=Number(ad[4])-Number(ad[0]);var ai=Number(ad[5])-Number(ad[1]);var ae=(aa/2)+Number(ad[0]);var ac=(ai/2)+Number(ad[1]);var ah=ad.length;for(var af=0;af<ah;af+=2){var Z=H(Number(ad[af]),Number(ad[af+1]),aa,ai,ae,ac,ab);ag.push(Number(Z[0]));ag.push(Number(Z[1]))}return ag}function H(Z,am,af,ah,ae,ad,ac){ac=ac*Math.PI/180;var an=Z-ae;var al=am-ad;var aj=Math.atan2(al,an);var ai=Math.sqrt(an*an+al*al);var aa=aj+ac;var ak=Math.cos(aa)*ai;var ag=Math.sin(aa)*ai;var ab=[];ab[0]=(ak+ae);ab[1]=(ag+ad);return ab}function P(Z){$(Z).find("*").filterNode("rdf:Description").each(function(){var ab=$(this).attr("xmp:label");var aj=Number($(this).attr("xmpDM:startTime"))/1000;var ag=Number($(this).attr("xmpDM:duration"))/1000;var af=aj+ag;var ac=$(this).attr("tscDM:boundingPoly");var ah=$(this).attr("tscDM:rotate");var ae=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscHS:jumpFile"));var ak=ac.replace(/\;/ig,",");if(ak.lastIndexOf(",")==ak.length-1){ak=ak.substr(0,ak.length-1)}var am=ak.split(",");if(ah!==0){am=I(am,ah)}var al=false;var ad="";var ai="";var aa="";if($(this).attr("tscHS:pause")==="1"){al=true}if($(this).attr("tscHS:jumpTime")!==undefined){ad=Number($(this).attr("tscHS:jumpTime"))/1000}if($(this).attr("tscHS:newWindow")!==undefined){ai=$(this).attr("tscHS:newWindow");ai=(ai==="0"||ai.toLowerCase()==="false")?false:true}if($(this).attr("xmpDM:location")!==undefined){aa=$(this).attr("xmpDM:location")}var ao=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var an={id:ab,start:aj,end:af,pause:al,hasPaused:false,points:am,scaledPoints:am.concat([]),rotation:ah,file:ao,jumpTime:ad,jumpFile:ae,newWindow:ai,targetURL:aa,isActive:false};c.push(an)})}function L(al){var ad=-1;var ab=false;var aj;var ac;var aa;var ae;var ak;var ag=[];var Z;var af;var ai;TSC.quizModel.clearAllQuestions();$(al).find("*").filterNode("rdf:Description").each(function(){var an=$(this).attr("tscIQ:questionSetName");if(an){an=TSC.textSanitizer.htmlEncode(an);if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z);ab=false;ae=undefined;aa=undefined;ag=[];Z=undefined}var ao=($(this).attr("tscIQ:feedback")==="1");var am=Number($(this).attr("xmpDM:startTime"));ad=TSC.quizModel.addQuestionSet(an,am,ao)}else{ac=$(this).attr("tscIQ:type");if(ac){if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z);ab=false;ab=false;ae=undefined;aa=undefined;ag=[];Z=undefined}aa=$(this).attr("tscIQ:id");aj=ac;af=$(this).children();ae=TSC.textSanitizer.htmlEncode($(af[0]).text(),true);Z=TSC.textSanitizer.htmlEncode($(af[1]).text(),true);ab=true}else{ak=$(this).attr("tscIQ:orderId");if(ak){af=$(this).children();ai=$(af[0]).text();if(ai){ag.push(TSC.textSanitizer.htmlEncode(ai,true))}}}}});if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z)}var ah;$(al).find("*").filterNode("rdf:li").each(function(){ah=$(this).attr("xmpDM:name");if(ah){TSC.quizUiStrings.setUiString(ah,$(this).attr("xmpDM:value"))}})}function o(ae){var ad=[];$(ae).find("*").filterNode("rdf:Description").each(function(){var al=Number($(this).attr("xmpDM:startTime"))/1000;var ai=Number($(this).attr("xmpDM:duration"))/1000;var ak=$(this).attr("xmpDM:name");var ah=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var aj={start:al,end:String(Number(al)+Number(ai)),text:ak,file:ah};ad.push(aj)});var aa=ad.length;if(aa<1){return}var ab=ad[0].start;var ag="";var Z=[];var af;for(var ac=0;ac<aa;ac++){if(ad[ac].start!==ab){af={start:ad[ac-1].start,end:ad[ac-1].end,text:ag,items:Z,file:ad[ac-1].file};b.push(af);ag="";Z=[]}ag+=ad[ac].text+" ";Z.push(ad[ac].text);ab=ad[ac].start}af={start:ad[ac-1].start,end:ad[ac-1].end,text:ag,items:Z,file:ad[ac-1].file};b.push(af)}function u(ae){var Z=[];$(ae).find("*").filterNode("rdf:Description").each(function(){var an=Number($(this).attr("xmpDM:startTime"))/1000;var ak=Number($(this).attr("xmpDM:duration"))/1000;var am=$(this).attr("xmpDM:name");var aj=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var al={start:an,end:String(Number(an)+Number(ak)),text:am,file:aj};Z.push(al)});var af=Z.length;if(af<1){return}var ad=Z[0].start;var ah=ad;var ag="";var ac=[];for(var ab=0;ab<af;ab++){if(Z[ab].start-ad>2.5){var ai={start:ah,end:Z[ab-1].end,text:ag,items:ac,file:Z[ab-1].file};ah=Z[ab].start;Z.push(ai);ag="";ac=[]}ag+=Z[ab].text+" ";ac.push(Z[ab].text);ad=Z[ab].start}var aa={start:ah,end:Z[af-1].end,text:ag,items:ac,file:Z[af-1].file};f.push(aa)}function R(){if(Q){s(d)}if(V){i(W)}if(k){L(x)}if(A){P(m)}if(U){o(h)}if(j){u(v)}e=true;if(D){D.call()}}function X(ab){var au=$(ab).find("*").eq(2);r=au.attr("dc:title");Y=au.attr("tscDM:originId");g=au.attr("tscDM:project");S=Number($(ab).find("*").eq(3).attr("xmpDM:value"));q=r;var ac;var ak=$(ab).find("*").length;var an;var av=0;for(ac=4;ac<ak;ac++){if($(ab).find("*").eq(ac)[0].nodeName==="xmpDM:Tracks"){an=$(ab).find("*").eq(ac).children();break}}var ag;var Z=$(an).find("*").length;for(var am=0;am<Z;am++){var aj=$(an).find("*").eq(am);ag=aj.attr("xmpDM:trackType");if(ag!==undefined){switch(ag.toLowerCase()){case"tableofcontents":w=($(aj)).attr("tscDM:tocCellLayout");if(TSC.playerConfiguration.getSwfBase()!=="."){B=TSC.playerConfiguration.getSwfBase()+TSC.playerConfiguration.getUnicodeSafeString(($(aj)).attr("tscDM:image"))}else{B=TSC.playerConfiguration.getUnicodeSafeString(($(aj)).attr("tscDM:image"))}Q=true;d=$(aj);am+=d.find("*").length;break;case"quiz":if(TSC.quizModel){k=true;var ae=($(aj)).attr("tscIQ:quizGuid");var al=($(aj)).attr("tscIQ:reportMethod");var aa=($(aj)).attr("tscIQ:requireUserId")==="1";var at=($(aj)).attr("tscIQ:authoredEmail");var aq=($(aj)).attr("tscIQ:clientId");var ap=($(aj)).attr("tscIQ:quizHash");TSC.quizModel.setProductionMetadata(g,r,Y);TSC.quizModel.setQuizTitle(r);TSC.quizModel.setQuizID(ae);TSC.quizModel.setReportMethod(al);TSC.quizModel.setRequireUserId(aa);TSC.quizModel.setAuthoredEmail(at);TSC.quizModel.setClientId(aq);TSC.quizModel.setQuizHash(ap);TSC.quizModel.setMediaDuration(S)}x=$(aj);am+=x.find("*").length;break;case"caption":var ai=($(aj)).attr("stFnt:fontFamily");if(ai){O=ai}var ar=($(aj)).attr("tscDM:fontSize");if(ar){l=Number(ar)}var ao=($(aj)).attr("tscDM:bgOpacity");if(ao){n=Number(ao)}V=true;W=$(aj);am+=W.find("*").length;break;case"hotspot":A=true;m=$(aj);am+=m.find("*").length;break;case"speechtext":j=true;v=$(aj);am+=v.find("*").length;break;case"screentext":U=true;h=$(aj);am+=h.find("*").length;break}}}ac+=av;var ad;var af;var ah=0;for(ac=ac;ac<ak;ac++){if($(ab).find("*").eq(ac)[0].nodeName==="tscDM:controller"){ad=$(ab).find("*").eq(ac).children();ah=$(ad).find("*").length;break}}$(ad).find("*").filterNode("rdf:li").each(function(){if($(this).attr("xmpDM:name")!=undefined){af=$(this).attr("xmpDM:value").toLowerCase();switch(($(this).attr("xmpDM:name")).toLowerCase()){case"autohide":var ax=af==="true"?true:false;TSC.playerConfiguration.setAutoHideControls(ax);break;case"autoplay":var az=af==="true"?true:false;TSC.playerConfiguration.setAutoPlayMedia(az);break;case"searchable":var ay=af==="true"?true:false;TSC.playerConfiguration.setIsSearchable(ay);break;case"captionsenabled":var aC=af==="true"?true:false;TSC.playerConfiguration.setCaptionsEnabled(aC);break;case"sidebarenabled":var aB=af==="true"?true:false;TSC.playerConfiguration.setSidebarEnabled(aB);break;case"unicodeenabled":var aw=af==="true"?true:false;TSC.playerConfiguration.setProcessUnicodeNames(aw);break;case"backgroundcolor":var aA=af;if(aA.indexOf("#")===-1){aA="#"+aA}TSC.playerConfiguration.setBackgroundColor(aA);break;case"sidebarlocation":var aD=(af==="right"||af==="r")?"right":"left";TSC.playerConfiguration.setSidebarLocation(aD);break;case"endaction":TSC.playerConfiguration.setEndActionType(af);break;case"endactionparam":TSC.playerConfiguration.setEndActionParam(af);break}}});setTimeout(R,500)}return{loadXMP:function(Z){if(Z){try{$.ajax({type:"GET",url:Z,isLocal:true,dataType:"xml",success:X,error:F})}catch(aa){}}},parseXMP:function(Z){X($.parseXML(Z))},xmpAvailable:function(){return e},getMediaDuration:function(){return S},getTocTitle:function(){return q},getTocImageSrc:function(){return B},getTocCellLayoutType:function(){return w},tocContainsThumbs:function(){return M},getTocThumbImageSrc:function(){return p},getTocItemArray:function(){return K},getHotspotItemArray:function(){return c},getCaptionItemArray:function(){return C},getCaptionFontFamily:function(){return O},getCaptionFontSize:function(){return l},getMinCaptionFontSize:function(){return t},getMaxCaptionFontSize:function(){return J},getCaptionBgOpacity:function(){return n},getCaptionTextColor:function(){return y},getCaptionBgColor:function(){return G},getCaptionBg:function(){return"rgba("+T.r+", "+T.g+", "+T.b+", "+n+")"},getSpeechTextItemArray:function(){return f},getScreenTextItemArray:function(){return b},hasTocItems:function(){return Q},hasCaptionItems:function(){return V},hasHotspotItems:function(){return A},hasQuiz:function(){return k},hasScreenTextItems:function(){return U},hasSpeechTextItems:function(){return j},getLocalErrorMessage:function(){return z},get404ErrorMessage:function(){return E},addEventListener:function(Z,aa){if(Z==="READY"){D=aa}else{if(Z==="ERROR"){a=aa}}},removeEventListener:function(Z,aa){if(Z==="READY"){D=undefined}else{if(Z==="ERROR"){a=undefined}}}}}());var TSC=TSC||{};var _gaq=_gaq||[];TSC.mediaPlayer=(function(){var v="1.0.21";var r="http://www.techsmith.com/redirect.asp?";var i="target=nuevoappdata&product=camtasia&lang=enu&ver=1.0.0&os=mac";var l="false";var d="";var m;var t=TSC.playerConfiguration;var q=TSC.mediaList;var g=TSC.playerView;var h=TSC.xmp;var a=false;function o(){if(TSC.mediaList.getMediaType()!==TSC.mediaType.WEBM&&swfobject.hasFlashPlayerVersion(TSC.playerConfiguration.getMinFlashPlayerVersion())){g.initFlashView(m)}else{g.displayMessagePanel(m,TSC.mediaList.getErrorMessage())}}function b(){z();if(TSC.deviceInfo.isLocal()){g.displayMessagePanel(m,TSC.xmp.getLocalErrorMessage())}else{g.displayMessagePanel(m,TSC.xmp.get404ErrorMessage())}}function e(){_gaq.push(["_setAccount",TSC.playerConfiguration.getGoogleAnalyticsID()]);_gaq.push(["_trackPageview"]);(function(){var B=document.createElement("script");B.type="text/javascript";B.async=true;B.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var A=document.getElementsByTagName("script")[0];A.parentNode.insertBefore(B,A)})()}function n(){TSC.deviceInfo.lookAtDevice();if(!w()){s()}if(TSC.playerConfiguration.getGoogleAnalyticsID()&&!swfobject.hasFlashPlayerVersion(TSC.playerConfiguration.getMinFlashPlayerVersion())){e()}}function s(){q.addEventListener("READY",j);q.addEventListener("ERROR",o);q.init(t.getMediaSources())}function f(){if(TSC.deviceInfo.isNuevoApp()&&h.xmpAvailable()){var A=document.location;var C=h.getTocTitle();var B=h.getMediaDuration();document.location="nuevo://info?url="+A+"?title="+C+"?duration="+B}}function p(){if(!a){g.removeEventListener("VIDEO_START");$(document).trigger("techsmith.cloud.videofirstclickplay");a=true}}function j(){q.removeEventListener("READY",j);q.removeEventListener("ERROR",o);if(TSC.mediaList.getMediaType()===TSC.mediaType.WEBM){if(TSC.deviceInfo.isFirefox()||TSC.deviceInfo.isChrome()){k()}else{g.displayMessagePanel(m,"This browser does not support WebM video.")}}else{if(TSC.deviceInfo.isIPhoneOrIPod()){g.initSimpleHtml5View(m)}else{if(swfobject.hasFlashPlayerVersion(TSC.playerConfiguration.getMinFlashPlayerVersion())){g.initFlashView(m)}else{if(!TSC.deviceInfo.isFirefox()||(TSC.deviceInfo.isFirefox()&&(TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.WEBM)||TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.OGG)))){k()}else{g.displayMessagePanel(m,"This browser does not support the video format needed for playback.  Please install the Flash Player or use a different browser.")}}}}}function k(){if(t.getXMPSrc()){h.addEventListener("READY",z);h.addEventListener("ERROR",b);h.loadXMP(t.getXMPSrc())}else{z()}}function y(A){$(parent.document).trigger("techsmith.screencast.captionchanged",A)}function z(){var A=false;var B=false;if(h.xmpAvailable()){h.removeEventListener("READY",z);h.removeEventListener("ERROR",b);if(h.hasTocItems()||((h.hasCaptionItems()||h.hasScreenTextItems()||h.hasSpeechTextItems())&&TSC.playerConfiguration.getIsSearchable())){A=true}if(h.hasCaptionItems()){$(parent.document).trigger("techsmith.screencast.hascaptions")}if(h.hasQuiz()){if(TSC.deviceInfo.isLocal()&&TSC.quizModel.getReportMethod()!==TSC.reportType.NONE){B=true;TSC.quizModel.setReportMethod(TSC.reportType.NONE)}else{if(TSC.quizModel.getReportMethod()===TSC.reportType.SCORM&&TSC.quizModel.getTotalNumberOfGradedQuestionSets()===0){TSC.playerConfiguration.setReportScormComplete(true)}}}f()}g.addEventListener("VIDEO_START",p);g.addEventListener("CAPTION_CHANGE",y);g.initHtml5View(m,A);if(B){g.displayMessagePanel(m,TSC.quizUiStrings.getDisabledLocalQuizReporting())}}function c(A){var B=document.createElement("script");B.setAttribute("type","text/javascript");B.setAttribute("src",A);B.async=true;B.onload=function(){s()};if(typeof B!="undefined"){document.getElementsByTagName("head")[0].appendChild(B)}}function w(){if(x()){c(r+i);return true}return false}function u(){return(l==="true")}function x(){if(TSC.deviceInfo.isIPhoneOrIPod()&&TSC.deviceInfo.isRetinaDisplay()&&!TSC.deviceInfo.isNuevoApp()){return true}return false}return{init:function(A){m=A;n()},getVersion:function(){return v},keyValueDataCallback:function(A){l=A.isAppReady;d=A.appDownloadURL},isNuevoAppCapableAndAvailable:function(){return(x()&&u())},redirectToiPhoneAppDownload:function(){if(x()){window.open(d,"_parent")}},jsSeekTime:function(B){var A=$(TSC.playerView.getFlashId());if(A){A[0].jsSeekTime(B)}else{return}},redirectToiPhoneApp:function(){if(x()&&u()){var B=document.location;var A=TSC.playerConfiguration.getPosterImageSrc();var C=(new Date()).getTime();setTimeout(function(){var D=(new Date()).getTime();if((D-C)<1000){window.open(d,"_parent")}},300);window.open("nuevo://import?url="+B+"?posterImage="+A,"_parent")}}}}());